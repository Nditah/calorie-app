<ion-header>
  <ion-toolbar class="green-dark">
    <ion-buttons slot="start">
      <ion-back-button color="light" defaultHref="/food"></ion-back-button>
    </ion-buttons>
    <ion-title color="light">Add Food</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content no-padding>
  <div class="green-dark header"></div>
  <form [formGroup]="addForm">
    <ion-card-title class="create-food" color="dark">
      Create New Food
    </ion-card-title>
    <br/>
    <ion-card padding>
      <ion-card-header class="card-head">
        <ion-card-subtitle>Step: {{currentSLide}} or 4</ion-card-subtitle>
        <ion-button color="danger" fill="clear" (click)="cancel()">
          <ion-label>Cancel</ion-label>
        </ion-button>
      </ion-card-header>
      <ion-slides pager="false" #slides>

        <ion-slide>
          <div style="width: 100%;">
            <ion-card-content>
              <ion-list lines="full">
                <ion-item>
                  <ion-icon name="ice-cream" slot="start"></ion-icon>
                  <ion-input type="text" placeholder="Name" formControlName="name" id="name"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-icon name="apps" slot="start"></ion-icon>
                  <ion-label>Category</ion-label>
                  <ion-select formControlName="category" id="category">
                    <ion-select-option value="FOOD">FOOD</ion-select-option>
                    <ion-select-option value="DRINK">DRINK</ion-select-option>
                  </ion-select>
                </ion-item>
                <ion-item>
                  <ion-icon name="list" slot="start"></ion-icon>
                  <ion-input type="text" placeholder="Description" formControlName="description" id="description"></ion-input>
                </ion-item>
              </ion-list>
            </ion-card-content>
            <ion-card-header class="card-head">
              <div></div>
              <ion-button type="button" color="success" fill="clear" (click)="next()">
                <ion-icon name="arrow-forward" slot="end"></ion-icon>
                <ion-label>Next</ion-label>
              </ion-button>
            </ion-card-header>
          </div>
        </ion-slide>

        <ion-slide>
          <div style="width: 100%;">
            <ion-card-content>
              <ion-list lines="full">
                <ion-item>
                  <ion-icon name="pie" slot="start"></ion-icon>
                  <ion-input type="number" placeholder="Food Quantity" formControlName="quantity" id="quantity"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-icon name="water" slot="start"></ion-icon>
                  <ion-input placeholder="Water Content" type="number" formControlName="water" id="water"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-icon name="nutrition" slot="start"></ion-icon>
                  <ion-input placeholder="Calories" type="number" formControlName="calories" id="calories"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-icon name="nutrition" slot="start"></ion-icon>
                  <ion-input placeholder="Carbohydrate" type="number" formControlName="carbohydrate" id="carbs"></ion-input>
                </ion-item>
              </ion-list>
            </ion-card-content>
            <ion-card-header class="card-head">
              <ion-button color="success" fill="clear" shape="round" (click)="prev()">
                <ion-icon name="arrow-back" slot="start"></ion-icon>
                <ion-label>Prev</ion-label>
              </ion-button>
              <ion-button color="success" fill="clear" shape="round" (click)="next()">
                <ion-icon name="arrow-forward" slot="end"></ion-icon>
                <ion-label>Next</ion-label>
              </ion-button>
            </ion-card-header>
          </div>
        </ion-slide>

        <ion-slide>
          <div style="width: 100%;">
            <ion-card-content>
              <ion-list lines="full">
                <ion-item>
                  <ion-icon name="nutrition" slot="start"></ion-icon>
                  <ion-input placeholder="Protein" type="number" formControlName="protein" id="protein"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-icon name="nutrition" slot="start"></ion-icon>
                  <ion-input type="number" placeholder="Fats" formControlName="fats" id="fats"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-icon name="nutrition" slot="start"></ion-icon>
                  <ion-input type="number" placeholder="Fiber" formControlName="fibre" id="fibre"></ion-input>
                </ion-item>
              </ion-list>
            </ion-card-content>
            <ion-card-header class="card-head">
              <ion-button color="success" fill="clear" shape="round" (click)="prev()">
                <ion-icon name="arrow-back" slot="start"></ion-icon>
                <ion-label>Prev</ion-label>
              </ion-button>
              <ion-button color="success" fill="clear" shape="round" (click)="next()">
                <ion-icon name="arrow-forward" slot="end"></ion-icon>
                <ion-label>Next</ion-label>
              </ion-button>
            </ion-card-header>
          </div>
        </ion-slide>

        <ion-slide>
          <div style="width: 100%">
            <ion-card-header class="card-head">
              <ion-card-title>Nutrients</ion-card-title>
              <ion-button fill="clear" color="success" (click)="addBlankMinivite()">
                <ion-icon name="add" slot="start"></ion-icon>
                <ion-label>Add</ion-label>
              </ion-button>
            </ion-card-header>
            <ion-card-content no-padding>
              <div formArrayName="minivites" style="width: 100%">
                <ion-grid>
                  <ion-row class="nuts" *ngFor="let minivite of addForm.get('minivites')['controls']; let i=index" [formGroupName]="i">
                    <ion-col size="1">
                      <ion-icon name="arrow-dropright" mode="md"></ion-icon>
                    </ion-col>
                    <ion-col size="5">
                      <ion-item lines="full">
                        <ion-input type="text" placeholder="Name" formControlName="minivite_name" item-start></ion-input>
                      </ion-item>
                    </ion-col>
                    <ion-col size="4">
                      <ion-item lines="full">
                        <ion-input type="number" placeholder="Value" formControlName="minivite_value" item-start></ion-input>
                      </ion-item>
                    </ion-col>
                    <ion-col size="2">
                      <ion-button size="small" fill="clear" color="danger" (click)="deleteMinivite(addForm.get('minivites'), i)">
                        <ion-icon name="close" mode="md"></ion-icon>
                      </ion-button>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </div>
            </ion-card-content>
            <ion-card-header class="card-head">
              <ion-button color="success" fill="clear" shape="round" (click)="prev()">
                <ion-icon name="arrow-back" slot="start"></ion-icon>
                <ion-label>Prev</ion-label>
              </ion-button>
              <ion-button color="success" [disabled]="!addForm.valid" (click)="submitRecord()">
                <ion-label>Submit</ion-label>
              </ion-button>
            </ion-card-header>
          </div>
        </ion-slide>

      </ion-slides>
    </ion-card>
  </form>
</ion-content>
