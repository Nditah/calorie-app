<ion-header>
    <ion-toolbar class="green-dark">
        <ion-buttons slot="start">
            <ion-back-button color="light"></ion-back-button>
        </ion-buttons>
        <ion-title color="light">New Activity</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <div class="green-dark header"></div>
    <form [formGroup]="addForm">
        <ion-card>
            <ion-card-header class="card-head">
                <ion-card-subtitle>New Activity</ion-card-subtitle>
                <ion-button color="danger" fill="clear" (click)="cancel()">
                    <ion-label>Cancel</ion-label>
                </ion-button>
            </ion-card-header>
            <ion-card-content>
                <ion-list lines="none">
                    <ion-item>
                        <ion-icon padding-top name="calendar" slot="start"></ion-icon>
                        <ion-label color="success" no-padding position="floating">Log Day</ion-label>
                        <ion-select formControlName="day" name="day" id="day">
                            <ion-select-option [value]="today" selected>Today {{ today | date: 'mediumDate' }}</ion-select-option>
                            <ion-select-option [value]="yesterday">Yesterday {{ yesterday | date: 'mediumDate' }}</ion-select-option>
                        </ion-select>
                    </ion-item>
                    <ion-item>
                        <ion-icon padding-top name="restaurant" slot="start"></ion-icon>
                        <ion-label color="success" no-padding position="floating">Select Food or Drink</ion-label>
                        <ionic-selectable formControlName="food" name="food"
                                          [items]="foods" itemValueField="id"
                                          itemTextField="name" [canSearch]="true"
                                          (onChange)="foodChange($event)"
                                          headerColor="success">
                        </ionic-selectable>
                    </ion-item>
                    <ion-item>
                        <ion-icon padding-top name="podium" slot="start"></ion-icon>
                        <ion-label color="success" no-padding position="floating">Food Quantity ({{foodUnit === null ? 'Kg|Lt' : foodUnit}})</ion-label>
                        <ion-input type="number" formControlName="food_quantity" name="food_quantity" id="food_quantity"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-icon padding-top name="walk" slot="start"></ion-icon>
                        <ion-label color="success" no-padding position="floating">Exercise</ion-label>
                        <ionic-selectable formControlName="exercise" name="exercise"
                                          [items]="exercises" itemValueField="id"
                                          itemTextField="name" [canSearch]="true"
                                          (onChange)="exerciseChange($event)"
                                          headerColor="success">
                        </ionic-selectable>
                    </ion-item>
                    <ion-item>
                        <ion-icon padding-top name="timer" slot="start"></ion-icon>
                        <ion-label color="success" no-padding position="floating">Exercise Duration (Minutes)</ion-label>
                        <ion-input type="number" formControlName="exercise_duration" name="exercise_duration" id="exercise_duration"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-icon padding-top name="fitness" slot="start"></ion-icon>
                        <ion-label color="success" no-padding position="floating">Current Mass (Kg)</ion-label>
                        <ion-input type="number" formControlName="current_mass" name="current_mass" id="current_mass"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-icon padding-top name="list" slot="start"></ion-icon>
                        <ion-label color="success" no-padding position="floating">Remark</ion-label>
                        <ion-input type="text" formControlName="remark" name="remark" id="remark"></ion-input>
                    </ion-item>
                </ion-list>
                <br/>
                <ion-button shape="round" expand="full" color="success" [disabled]="!addForm.valid" (click)="submitRecord()">Submit</ion-button>
            </ion-card-content>
        </ion-card>
    </form>
</ion-content>